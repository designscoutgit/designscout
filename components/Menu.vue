<template>
  <header>
    <div
      class="navbar"
      :class="{ 'dark': !isLightMode, 'active': isOpen, 'scrolling': !atTheTop }"
    >
      <a
        href="/"
        class="logo"
      >
        <svg
          width="138"
          height="14"
          viewBox="0 0 138 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.73908 10.7462C5.52696 11.8462 4.17 12.0692 2.55384 12.0692H1.47894V1.93077H2.55384C4.11663 1.93077 5.45835 2.13077 6.67047 3.16923C7.81398 4.13846 8.39336 5.54615 8.39336 7C8.39336 8.45385 7.82922 9.76154 6.73908 10.7462ZM7.66913 2.15385C6.10634 0.861538 4.48255 0.607692 2.50047 0.607692H0V13.3846H2.46236C4.53592 13.3846 6.12158 13.1308 7.69963 11.7769C9.15569 10.5231 9.86467 8.87692 9.86467 7.01538C9.86467 5.15385 9.17857 3.40769 7.66913 2.15385ZM13.1504 0.607692V13.3846H20.0267V12.0615H14.6293V7.04615H19.8666V5.72308H14.6293V1.93077H20.0267V0.607692H13.1504ZM28.077 6.06154L27.2003 5.69231C26.3007 5.3 25.1267 4.79231 25.1267 3.69231C25.1267 2.52308 26.1482 1.70769 27.3222 1.70769C28.4962 1.70769 29.0832 2.21538 29.6093 3.1L30.7833 2.36923C30.0819 1.11538 28.8317 0.384615 27.3527 0.384615C25.3859 0.384615 23.6401 1.65385 23.6401 3.63846C23.6401 5.46923 24.9742 6.23077 26.5218 6.90769L27.3299 7.24615C28.5572 7.79231 29.777 8.3 29.777 9.78461C29.777 11.2692 28.4734 12.2769 27.0478 12.2769C25.6222 12.2769 24.5854 11.2077 24.3949 9.90769L22.954 10.3C23.3733 12.2846 24.959 13.6077 27.0859 13.6077C29.3882 13.6077 31.2559 11.8923 31.2559 9.66154C31.2559 7.63077 29.7922 6.8 28.0693 6.06923L28.077 6.06154ZM34.6788 13.3923H36.1578V0.615385H34.6788V13.3846V13.3923ZM47.2345 6.96923V8.29231H51.1758C51.1758 10.6615 48.7516 12.2923 46.4417 12.2923C45.0543 12.2923 43.6439 11.6 42.6758 10.6615C41.6923 9.69231 41.1282 8.40769 41.1282 7.05385C41.1282 4.17692 43.5219 1.71538 46.5484 1.71538C48.5 1.71538 49.9942 2.61538 51.0996 4.12308L52.1745 3.15385C50.7642 1.39231 48.8888 0.392308 46.5637 0.392308C42.7444 0.392308 39.6493 3.37692 39.6493 7.03846C39.6493 10.7 42.7444 13.6154 46.4722 13.6154C48.3171 13.6154 50.1619 12.8385 51.3817 11.4769C52.5938 10.1231 52.792 8.7 52.7539 6.96923H47.2345ZM56.3445 13.3923H57.8234V3.53846L68.1684 13.9615V0.607692H66.6894V10.5077L56.3597 0.0692308V13.3846L56.3445 13.3923ZM77.629 5.71538L76.7447 5.33846C75.7079 4.88461 74.9151 4.48461 74.9151 3.7C74.9151 2.7 75.8299 2.10769 76.7066 2.10769C77.5833 2.10769 78.1245 2.44615 78.6429 3.3L78.8564 3.65385L80.7089 2.50769L80.5259 2.19231C79.7636 0.8 78.3761 0 76.7523 0C74.4043 0 72.6357 1.56923 72.6357 3.64615C72.6357 5.72308 74.1756 6.57692 75.7613 7.27692L76.6227 7.63846C77.9492 8.22308 78.7725 8.64615 78.7725 9.8C78.7725 10.9538 77.7281 11.9 76.4474 11.9C75.2962 11.9 74.3662 11.0615 74.1909 9.86154L74.1223 9.42308L71.8733 10.0308L71.9496 10.3846C72.4146 12.5846 74.1985 14 76.4779 14C79.0393 14 81.0519 12.0923 81.0519 9.66154C81.0519 7.23077 79.3595 6.44615 77.629 5.71538ZM91.0157 0C86.9829 0 83.6972 3.16154 83.6972 7.04615C83.6972 10.9308 86.9829 13.9923 91.0157 13.9923C92.4946 13.9923 93.9812 13.5231 95.2086 12.6615L95.3763 12.5462V9.64615L94.6902 10.3077C93.6458 11.3154 92.2888 11.8923 90.9623 11.8923C88.2636 11.8923 85.9843 9.64615 85.9843 6.99231C85.9843 4.33846 88.2484 2.09231 90.9242 2.09231C92.304 2.09231 93.6686 2.66923 94.6749 3.66923L95.3686 4.36154V1.44615L95.2086 1.33077C93.9659 0.438462 92.5861 0 91.0081 0H91.0157ZM105.325 11.9C102.55 11.9 100.293 9.7 100.293 7C100.293 4.3 102.55 2.1 105.325 2.1C108.1 2.1 110.356 4.3 110.356 7C110.356 9.7 108.1 11.9 105.325 11.9ZM105.325 0C101.292 0 98.014 3.14615 98.014 7.01538C98.014 10.8846 101.292 13.9923 105.325 13.9923C109.358 13.9923 112.636 10.8615 112.636 7.01538C112.636 3.16923 109.358 0 105.325 0ZM123.194 8.41538C123.194 9.31538 123.194 10.2462 122.638 10.9C122.119 11.4923 121.204 11.8923 120.343 11.8923C119.428 11.8923 118.46 11.4615 117.995 10.8308C117.492 10.1615 117.492 9.24615 117.492 8.36154V0.223077H115.205V8.60769C115.205 10.0154 115.311 11.3692 116.63 12.5769C117.568 13.4615 118.955 13.9923 120.343 13.9923C121.829 13.9923 123.24 13.4154 124.2 12.4154C125.382 11.2462 125.473 9.99231 125.473 8.60769V0.223077H123.186V8.41538H123.194ZM128.279 0.223077V2.32308H131.481V13.7769H133.768V2.32308H137.008V0.223077H128.286H128.279Z"
            fill="#303A3E"
          />
        </svg>
      </a>

      <button
        class="menu-toggle"
        @click="toggleMenu"
      >
        <span>
          MENU
          <svg
            class="icon"
            width="21"
            height="20"
            viewBox="0 0 21 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <line
              x1="-8.74228e-08"
              y1="10"
              x2="21"
              y2="10"
              stroke="#303A3E"
              stroke-width="2"
            />
            <line
              x1="10.3438"
              y1="20"
              x2="10.3438"
              stroke="#303A3E"
              stroke-width="2"
            />
          </svg>
        </span>
      </button>
    </div>

    <div
      class="fs-menu custom-cursor-light"
      :class="{ 'open': isOpen }"
    >
      <a
        href="/"
        class="logo"
      >
        <svg
          class="light"
          width="138"
          height="14"
          viewBox="0 0 138 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.73908 10.7462C5.52696 11.8462 4.17 12.0692 2.55384 12.0692H1.47894V1.93077H2.55384C4.11663 1.93077 5.45835 2.13077 6.67047 3.16923C7.81398 4.13846 8.39336 5.54615 8.39336 7C8.39336 8.45385 7.82922 9.76154 6.73908 10.7462ZM7.66913 2.15385C6.10634 0.861538 4.48255 0.607692 2.50047 0.607692H0V13.3846H2.46236C4.53592 13.3846 6.12158 13.1308 7.69963 11.7769C9.15569 10.5231 9.86467 8.87692 9.86467 7.01538C9.86467 5.15385 9.17857 3.40769 7.66913 2.15385ZM13.1504 0.607692V13.3846H20.0267V12.0615H14.6293V7.04615H19.8666V5.72308H14.6293V1.93077H20.0267V0.607692H13.1504ZM28.077 6.06154L27.2003 5.69231C26.3007 5.3 25.1267 4.79231 25.1267 3.69231C25.1267 2.52308 26.1482 1.70769 27.3222 1.70769C28.4962 1.70769 29.0832 2.21538 29.6093 3.1L30.7833 2.36923C30.0819 1.11538 28.8317 0.384615 27.3527 0.384615C25.3859 0.384615 23.6401 1.65385 23.6401 3.63846C23.6401 5.46923 24.9742 6.23077 26.5218 6.90769L27.3299 7.24615C28.5572 7.79231 29.777 8.3 29.777 9.78461C29.777 11.2692 28.4734 12.2769 27.0478 12.2769C25.6222 12.2769 24.5854 11.2077 24.3949 9.90769L22.954 10.3C23.3733 12.2846 24.959 13.6077 27.0859 13.6077C29.3882 13.6077 31.2559 11.8923 31.2559 9.66154C31.2559 7.63077 29.7922 6.8 28.0693 6.06923L28.077 6.06154ZM34.6788 13.3923H36.1578V0.615385H34.6788V13.3846V13.3923ZM47.2345 6.96923V8.29231H51.1758C51.1758 10.6615 48.7516 12.2923 46.4417 12.2923C45.0543 12.2923 43.6439 11.6 42.6758 10.6615C41.6923 9.69231 41.1282 8.40769 41.1282 7.05385C41.1282 4.17692 43.5219 1.71538 46.5484 1.71538C48.5 1.71538 49.9942 2.61538 51.0996 4.12308L52.1745 3.15385C50.7642 1.39231 48.8888 0.392308 46.5637 0.392308C42.7444 0.392308 39.6493 3.37692 39.6493 7.03846C39.6493 10.7 42.7444 13.6154 46.4722 13.6154C48.3171 13.6154 50.1619 12.8385 51.3817 11.4769C52.5938 10.1231 52.792 8.7 52.7539 6.96923H47.2345ZM56.3445 13.3923H57.8234V3.53846L68.1684 13.9615V0.607692H66.6894V10.5077L56.3597 0.0692308V13.3846L56.3445 13.3923ZM77.629 5.71538L76.7447 5.33846C75.7079 4.88461 74.9151 4.48461 74.9151 3.7C74.9151 2.7 75.8299 2.10769 76.7066 2.10769C77.5833 2.10769 78.1245 2.44615 78.6429 3.3L78.8564 3.65385L80.7089 2.50769L80.5259 2.19231C79.7636 0.8 78.3761 0 76.7523 0C74.4043 0 72.6357 1.56923 72.6357 3.64615C72.6357 5.72308 74.1756 6.57692 75.7613 7.27692L76.6227 7.63846C77.9492 8.22308 78.7725 8.64615 78.7725 9.8C78.7725 10.9538 77.7281 11.9 76.4474 11.9C75.2962 11.9 74.3662 11.0615 74.1909 9.86154L74.1223 9.42308L71.8733 10.0308L71.9496 10.3846C72.4146 12.5846 74.1985 14 76.4779 14C79.0393 14 81.0519 12.0923 81.0519 9.66154C81.0519 7.23077 79.3595 6.44615 77.629 5.71538ZM91.0157 0C86.9829 0 83.6972 3.16154 83.6972 7.04615C83.6972 10.9308 86.9829 13.9923 91.0157 13.9923C92.4946 13.9923 93.9812 13.5231 95.2086 12.6615L95.3763 12.5462V9.64615L94.6902 10.3077C93.6458 11.3154 92.2888 11.8923 90.9623 11.8923C88.2636 11.8923 85.9843 9.64615 85.9843 6.99231C85.9843 4.33846 88.2484 2.09231 90.9242 2.09231C92.304 2.09231 93.6686 2.66923 94.6749 3.66923L95.3686 4.36154V1.44615L95.2086 1.33077C93.9659 0.438462 92.5861 0 91.0081 0H91.0157ZM105.325 11.9C102.55 11.9 100.293 9.7 100.293 7C100.293 4.3 102.55 2.1 105.325 2.1C108.1 2.1 110.356 4.3 110.356 7C110.356 9.7 108.1 11.9 105.325 11.9ZM105.325 0C101.292 0 98.014 3.14615 98.014 7.01538C98.014 10.8846 101.292 13.9923 105.325 13.9923C109.358 13.9923 112.636 10.8615 112.636 7.01538C112.636 3.16923 109.358 0 105.325 0ZM123.194 8.41538C123.194 9.31538 123.194 10.2462 122.638 10.9C122.119 11.4923 121.204 11.8923 120.343 11.8923C119.428 11.8923 118.46 11.4615 117.995 10.8308C117.492 10.1615 117.492 9.24615 117.492 8.36154V0.223077H115.205V8.60769C115.205 10.0154 115.311 11.3692 116.63 12.5769C117.568 13.4615 118.955 13.9923 120.343 13.9923C121.829 13.9923 123.24 13.4154 124.2 12.4154C125.382 11.2462 125.473 9.99231 125.473 8.60769V0.223077H123.186V8.41538H123.194ZM128.279 0.223077V2.32308H131.481V13.7769H133.768V2.32308H137.008V0.223077H128.286H128.279Z"
            fill="#303A3E"
          />
        </svg>
      </a>
      <button
        class="menu-toggle"
        @click="toggleMenu"
      >
        <span>
          CLOSE
          <svg
            class="close icon rotate-45"
            width="21"
            height="20"
            viewBox="0 0 21 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <line
              x1="-8.74228e-08"
              y1="10"
              x2="21"
              y2="10"
              stroke="#F7F5F0"
              stroke-width="2"
            />
            <line
              x1="10.3438"
              y1="20"
              x2="10.3438"
              stroke="#F7F5F0"
              stroke-width="2"
            />
          </svg>
        </span>
      </button>
      <div class="sidebar"></div>
      <nav>
        <MenuNav @close-nav="closeNav" />
        <div class="menu-aside">
          <div class="aside-block above-line">
            <h3><a
                href="/insights"
                class="no-underline"
              >INSIGHTS</a></h3>
            <h2 class="size-4"><a
                href="/insights/competitive-edge-what-is-a-counterculture-brand-and-how-can-it-help-you-find-your-dream-customers"
                class="size-4 has-arrow"
              >Counter-culture branding. <svg
                  width="30"
                  height="16"
                  viewBox="0 0 30 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M29.6152 8.70711C30.0057 8.31658 30.0057 7.68342 29.6152 7.29289L23.2512 0.928932C22.8607 0.538408 22.2275 0.538408 21.837 0.928932C21.4465 1.31946 21.4465 1.95262 21.837 2.34315L27.4938 8L21.837 13.6569C21.4465 14.0474 21.4465 14.6805 21.837 15.0711C22.2275 15.4616 22.8607 15.4616 23.2512 15.0711L29.6152 8.70711ZM0 9H28.9081V7L0 7L0 9Z"
                    fill="#F7F5F0"
                  />
                </svg>
              </a></h2>
            <h2 class="size-4"><a
                href="/insights/what-is-a-brand-strategy-and-how-does-it-affect-your-plans-for-growth"
                class="size-4 has-arrow"
              >What is a brand strategy? <svg
                  width="30"
                  height="16"
                  viewBox="0 0 30 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M29.6152 8.70711C30.0057 8.31658 30.0057 7.68342 29.6152 7.29289L23.2512 0.928932C22.8607 0.538408 22.2275 0.538408 21.837 0.928932C21.4465 1.31946 21.4465 1.95262 21.837 2.34315L27.4938 8L21.837 13.6569C21.4465 14.0474 21.4465 14.6805 21.837 15.0711C22.2275 15.4616 22.8607 15.4616 23.2512 15.0711L29.6152 8.70711ZM0 9H28.9081V7L0 7L0 9Z"
                    fill="#F7F5F0"
                  />
                </svg>
              </a></h2>
          </div>
          <div class="divider"></div>
          <div class=" aside-block below-line">
            <h3>WINE &amp; SPIRITS</h3>
            <h2 class="size-4">Head over to <a
                href="https://www.vint.studio"
                target="_blank"
                class="size-4 underline"
              >VINT</a></h2>
          </div>

          <div class="divider small-only"></div>

          <div class="bottom-buttons">
            <a
              href="/charity-referral"
              class="btn light bold"
            ><svg
                width="12"
                height="11"
                viewBox="0 0 12 11"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M11.917 1C11.917 0.454801 11.4636 0.0128299 10.9043 0.0128304L1.79033 0.0128302C1.23105 0.0128302 0.777666 0.454801 0.777666 1C0.777666 1.5452 1.23105 1.98717 1.79033 1.98717L9.89168 1.98717L9.89168 9.88452C9.89168 10.4297 10.3451 10.8717 10.9043 10.8717C11.4636 10.8717 11.917 10.4297 11.917 9.88452L11.917 1ZM2.38794 10.698L11.6204 1.69803L10.1883 0.301965L0.95581 9.30197L2.38794 10.698Z"
                  fill="#F7F5F0"
                />
              </svg>
              CHARITY REFERRAL</a>

            <a
              href="https://www.instagram.com/designscout/"
              target="_blank"
              class="btn light bold"
            ><svg
                width="12"
                height="11"
                viewBox="0 0 12 11"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M11.917 1C11.917 0.454801 11.4636 0.0128299 10.9043 0.0128304L1.79033 0.0128302C1.23105 0.0128302 0.777666 0.454801 0.777666 1C0.777666 1.5452 1.23105 1.98717 1.79033 1.98717L9.89168 1.98717L9.89168 9.88452C9.89168 10.4297 10.3451 10.8717 10.9043 10.8717C11.4636 10.8717 11.917 10.4297 11.917 9.88452L11.917 1ZM2.38794 10.698L11.6204 1.69803L10.1883 0.301965L0.95581 9.30197L2.38794 10.698Z"
                  fill="#F7F5F0"
                />
              </svg>
              <span class="large-only">INSTAGRAM</span><span class="small-only">IG</span></a>

            <a
              href="https://www.linkedin.com/company/designscout-ltd/"
              target="_blank"
              class="btn light bold"
            ><svg
                width="12"
                height="11"
                viewBox="0 0 12 11"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M11.917 1C11.917 0.454801 11.4636 0.0128299 10.9043 0.0128304L1.79033 0.0128302C1.23105 0.0128302 0.777666 0.454801 0.777666 1C0.777666 1.5452 1.23105 1.98717 1.79033 1.98717L9.89168 1.98717L9.89168 9.88452C9.89168 10.4297 10.3451 10.8717 10.9043 10.8717C11.4636 10.8717 11.917 10.4297 11.917 9.88452L11.917 1ZM2.38794 10.698L11.6204 1.69803L10.1883 0.301965L0.95581 9.30197L2.38794 10.698Z"
                  fill="#F7F5F0"
                />
              </svg>
              <span class="large-only">LINKED</span>IN</a>
          </div>
        </div>
      </nav>
    </div>
  </header>
</template>

<script>
import MenuNav from "~/components/MenuNav.vue";

export default {
  components: {
    MenuNav,
  },

  data() {
    return {
      isLightMode: true,
      isOpen: false,
      atTheTop: true,
    };
  },

  mounted() {
    this.handleScroll(); // Set the initial value of atTheTop based on the scroll position.
    window.addEventListener("scroll", this.handleScroll);

    // Set isLightMode based on the current route
    this.setLightMode();
  },

  watch: {
    // Watch for route changes and update isLightMode accordingly
    $route() {
      this.setLightMode();
    },
  },

  methods: {
    handleScroll() {
      if (window.scrollY > 0) {
        this.atTheTop = false;
      } else {
        this.atTheTop = true;
      }
    },

    toggleMenu() {
      this.isOpen = !this.isOpen;
      this.$emit("toggle", this.isOpen);
      if (this.isOpen) {
        document.body.classList.add("menu-open");
        this.atTheTop = false;
      } else {
        document.body.classList.remove("menu-open");
      }
      this.atTheTop = false;
    },

    closeNav() {
      this.isOpen = false;
      document.body.classList.remove("menu-open");
    },

    // Set isLightMode based on the current route
    setLightMode() {
      if (this.$route.path === "/services") {
        this.isLightMode = false;
      } else {
        this.isLightMode = true;
      }
    },
  },
};
</script>
